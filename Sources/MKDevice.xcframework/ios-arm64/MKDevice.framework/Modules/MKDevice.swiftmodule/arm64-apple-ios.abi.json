{
  "ABIRoot": {
    "kind": "Root",
    "name": "TopLevel",
    "printedName": "TopLevel",
    "children": [
      {
        "kind": "Import",
        "name": "MetalKit",
        "printedName": "MetalKit",
        "declKind": "Import",
        "moduleName": "MKDevice",
        "declAttributes": [
          "RawDocComment"
        ]
      },
      {
        "kind": "Import",
        "name": "AVFoundation",
        "printedName": "AVFoundation",
        "declKind": "Import",
        "moduleName": "MKDevice"
      },
      {
        "kind": "Import",
        "name": "SceneKit",
        "printedName": "SceneKit",
        "declKind": "Import",
        "moduleName": "MKDevice"
      },
      {
        "kind": "Import",
        "name": "ModelIO",
        "printedName": "ModelIO",
        "declKind": "Import",
        "moduleName": "MKDevice"
      },
      {
        "kind": "Import",
        "name": "Accelerate",
        "printedName": "Accelerate",
        "declKind": "Import",
        "moduleName": "MKDevice"
      },
      {
        "kind": "Import",
        "name": "Foundation",
        "printedName": "Foundation",
        "declKind": "Import",
        "moduleName": "MKDevice",
        "declAttributes": [
          "RawDocComment"
        ]
      },
      {
        "kind": "Import",
        "name": "MetalKit",
        "printedName": "MetalKit",
        "declKind": "Import",
        "moduleName": "MKDevice"
      },
      {
        "kind": "TypeDecl",
        "name": "MetalViewModel",
        "printedName": "MetalViewModel",
        "children": [
          {
            "kind": "Constructor",
            "name": "init",
            "printedName": "init()",
            "children": [
              {
                "kind": "TypeNominal",
                "name": "MetalViewModel",
                "printedName": "MKDevice.MetalViewModel",
                "usr": "s:8MKDevice14MetalViewModelC"
              }
            ],
            "declKind": "Constructor",
            "usr": "s:8MKDevice14MetalViewModelCACycfc",
            "mangledName": "$s8MKDevice14MetalViewModelCACycfc",
            "moduleName": "MKDevice",
            "declAttributes": [
              "AccessControl"
            ],
            "init_kind": "Designated"
          }
        ],
        "declKind": "Class",
        "usr": "s:8MKDevice14MetalViewModelC",
        "mangledName": "$s8MKDevice14MetalViewModelC",
        "moduleName": "MKDevice",
        "declAttributes": [
          "AccessControl"
        ],
        "conformances": [
          {
            "kind": "Conformance",
            "name": "ObservableObject",
            "printedName": "ObservableObject",
            "children": [
              {
                "kind": "TypeWitness",
                "name": "ObjectWillChangePublisher",
                "printedName": "ObjectWillChangePublisher",
                "children": [
                  {
                    "kind": "TypeNominal",
                    "name": "ObservableObjectPublisher",
                    "printedName": "Combine.ObservableObjectPublisher",
                    "usr": "s:7Combine25ObservableObjectPublisherC"
                  }
                ]
              }
            ],
            "usr": "s:7Combine16ObservableObjectP",
            "mangledName": "$s7Combine16ObservableObjectP"
          }
        ]
      },
      {
        "kind": "Import",
        "name": "MetalKit",
        "printedName": "MetalKit",
        "declKind": "Import",
        "moduleName": "MKDevice",
        "declAttributes": [
          "RawDocComment"
        ]
      },
      {
        "kind": "Import",
        "name": "SceneKit",
        "printedName": "SceneKit",
        "declKind": "Import",
        "moduleName": "MKDevice"
      },
      {
        "kind": "TypeDecl",
        "name": "VertexData",
        "printedName": "VertexData",
        "declKind": "Struct",
        "usr": "s:8MKDevice10VertexDataV",
        "mangledName": "$s8MKDevice10VertexDataV",
        "moduleName": "MKDevice",
        "declAttributes": [
          "AccessControl"
        ]
      },
      {
        "kind": "TypeDecl",
        "name": "PPState",
        "printedName": "PPState",
        "declKind": "Struct",
        "usr": "s:8MKDevice7PPStateV",
        "mangledName": "$s8MKDevice7PPStateV",
        "moduleName": "MKDevice",
        "declAttributes": [
          "AccessControl"
        ]
      },
      {
        "kind": "TypeDecl",
        "name": "Buffer",
        "printedName": "Buffer",
        "declKind": "Struct",
        "usr": "s:8MKDevice6BufferV",
        "mangledName": "$s8MKDevice6BufferV",
        "moduleName": "MKDevice",
        "declAttributes": [
          "AccessControl"
        ]
      },
      {
        "kind": "TypeDecl",
        "name": "Byte",
        "printedName": "Byte",
        "declKind": "Struct",
        "usr": "s:8MKDevice4ByteV",
        "mangledName": "$s8MKDevice4ByteV",
        "moduleName": "MKDevice",
        "declAttributes": [
          "AccessControl"
        ]
      },
      {
        "kind": "TypeDecl",
        "name": "MDevice",
        "printedName": "MDevice",
        "children": [
          {
            "kind": "Function",
            "name": "loadModel",
            "printedName": "loadModel(assetUrl:)",
            "children": [
              {
                "kind": "TypeNominal",
                "name": "Void",
                "printedName": "()"
              },
              {
                "kind": "TypeNominal",
                "name": "URL",
                "printedName": "Foundation.URL",
                "usr": "s:10Foundation3URLV"
              }
            ],
            "declKind": "Func",
            "usr": "s:8MKDevice7MDeviceC9loadModel8assetUrly10Foundation3URLV_tF",
            "mangledName": "$s8MKDevice7MDeviceC9loadModel8assetUrly10Foundation3URLV_tF",
            "moduleName": "MKDevice",
            "declAttributes": [
              "AccessControl"
            ],
            "funcSelfKind": "NonMutating"
          }
        ],
        "declKind": "Class",
        "usr": "s:8MKDevice7MDeviceC",
        "mangledName": "$s8MKDevice7MDeviceC",
        "moduleName": "MKDevice",
        "declAttributes": [
          "AccessControl"
        ],
        "hasMissingDesignatedInitializers": true
      },
      {
        "kind": "Import",
        "name": "SwiftUI",
        "printedName": "SwiftUI",
        "declKind": "Import",
        "moduleName": "MKDevice",
        "declAttributes": [
          "RawDocComment"
        ]
      },
      {
        "kind": "Import",
        "name": "simd",
        "printedName": "simd",
        "declKind": "Import",
        "moduleName": "MKDevice"
      },
      {
        "kind": "TypeDecl",
        "name": "SIMD2",
        "printedName": "SIMD2",
        "children": [
          {
            "kind": "Function",
            "name": "convertCoord",
            "printedName": "convertCoord()",
            "children": [
              {
                "kind": "TypeNominal",
                "name": "SIMD2",
                "printedName": "Swift.SIMD2<Swift.Float>",
                "children": [
                  {
                    "kind": "TypeNominal",
                    "name": "Float",
                    "printedName": "Swift.Float",
                    "usr": "s:Sf"
                  }
                ],
                "usr": "s:s5SIMD2V"
              }
            ],
            "declKind": "Func",
            "usr": "s:s5SIMD2V8MKDeviceSfRszrlE12convertCoordABySfGyF",
            "mangledName": "$ss5SIMD2V8MKDeviceSfRszrlE12convertCoordABySfGyF",
            "moduleName": "MKDevice",
            "genericSig": "<τ_0_0 where τ_0_0 == Swift.Float>",
            "sugared_genericSig": "<Scalar where Scalar == Swift.Float>",
            "declAttributes": [
              "AccessControl"
            ],
            "isFromExtension": true,
            "funcSelfKind": "NonMutating"
          }
        ],
        "declKind": "Struct",
        "usr": "s:s5SIMD2V",
        "mangledName": "$ss5SIMD2V",
        "moduleName": "Swift",
        "genericSig": "<τ_0_0 where τ_0_0 : Swift.SIMDScalar>",
        "sugared_genericSig": "<Scalar where Scalar : Swift.SIMDScalar>",
        "declAttributes": [
          "Frozen"
        ],
        "isExternal": true,
        "conformances": [
          {
            "kind": "Conformance",
            "name": "SIMD",
            "printedName": "SIMD",
            "children": [
              {
                "kind": "TypeWitness",
                "name": "MaskStorage",
                "printedName": "MaskStorage",
                "children": [
                  {
                    "kind": "TypeNominal",
                    "name": "SIMD2",
                    "printedName": "Swift.SIMD2<τ_0_0.SIMDMaskScalar>",
                    "children": [
                      {
                        "kind": "TypeNominal",
                        "name": "DependentMember",
                        "printedName": "τ_0_0.SIMDMaskScalar"
                      }
                    ],
                    "usr": "s:s5SIMD2V"
                  }
                ]
              }
            ],
            "usr": "s:s4SIMDP",
            "mangledName": "$ss4SIMDP"
          },
          {
            "kind": "Conformance",
            "name": "CustomStringConvertible",
            "printedName": "CustomStringConvertible",
            "usr": "s:s23CustomStringConvertibleP",
            "mangledName": "$ss23CustomStringConvertibleP"
          },
          {
            "kind": "Conformance",
            "name": "Decodable",
            "printedName": "Decodable",
            "usr": "s:Se",
            "mangledName": "$sSe"
          },
          {
            "kind": "Conformance",
            "name": "Encodable",
            "printedName": "Encodable",
            "usr": "s:SE",
            "mangledName": "$sSE"
          },
          {
            "kind": "Conformance",
            "name": "ExpressibleByArrayLiteral",
            "printedName": "ExpressibleByArrayLiteral",
            "children": [
              {
                "kind": "TypeWitness",
                "name": "ArrayLiteralElement",
                "printedName": "ArrayLiteralElement",
                "children": [
                  {
                    "kind": "TypeNominal",
                    "name": "GenericTypeParam",
                    "printedName": "τ_0_0"
                  }
                ]
              }
            ],
            "usr": "s:s25ExpressibleByArrayLiteralP",
            "mangledName": "$ss25ExpressibleByArrayLiteralP"
          },
          {
            "kind": "Conformance",
            "name": "Hashable",
            "printedName": "Hashable",
            "usr": "s:SH",
            "mangledName": "$sSH"
          },
          {
            "kind": "Conformance",
            "name": "SIMDStorage",
            "printedName": "SIMDStorage",
            "children": [
              {
                "kind": "TypeWitness",
                "name": "Scalar",
                "printedName": "Scalar",
                "children": [
                  {
                    "kind": "TypeNominal",
                    "name": "GenericTypeParam",
                    "printedName": "τ_0_0"
                  }
                ]
              }
            ],
            "usr": "s:s11SIMDStorageP",
            "mangledName": "$ss11SIMDStorageP"
          },
          {
            "kind": "Conformance",
            "name": "Equatable",
            "printedName": "Equatable",
            "usr": "s:SQ",
            "mangledName": "$sSQ"
          },
          {
            "kind": "Conformance",
            "name": "CustomDebugStringConvertible",
            "printedName": "CustomDebugStringConvertible",
            "usr": "s:s28CustomDebugStringConvertibleP",
            "mangledName": "$ss28CustomDebugStringConvertibleP"
          },
          {
            "kind": "Conformance",
            "name": "Sendable",
            "printedName": "Sendable",
            "usr": "s:s8SendableP",
            "mangledName": "$ss8SendableP"
          }
        ]
      },
      {
        "kind": "TypeDecl",
        "name": "MTLRenderCommandEncoder",
        "printedName": "MTLRenderCommandEncoder",
        "children": [
          {
            "kind": "Function",
            "name": "setVertexValue",
            "printedName": "setVertexValue(_:at:)",
            "children": [
              {
                "kind": "TypeNominal",
                "name": "Void",
                "printedName": "()"
              },
              {
                "kind": "TypeNominal",
                "name": "GenericTypeParam",
                "printedName": "τ_1_0"
              },
              {
                "kind": "TypeNominal",
                "name": "Int",
                "printedName": "Swift.Int",
                "usr": "s:Si"
              }
            ],
            "declKind": "Func",
            "usr": "s:So23MTLRenderCommandEncoderP8MKDeviceE14setVertexValue_2atyqd___SitlF",
            "mangledName": "$sSo23MTLRenderCommandEncoderP8MKDeviceE14setVertexValue_2atyqd___SitlF",
            "moduleName": "MKDevice",
            "genericSig": "<τ_0_0, τ_1_0 where τ_0_0 : Metal.MTLRenderCommandEncoder>",
            "sugared_genericSig": "<Self, T where Self : Metal.MTLRenderCommandEncoder>",
            "isFromExtension": true,
            "funcSelfKind": "NonMutating"
          },
          {
            "kind": "Function",
            "name": "setVertexValue",
            "printedName": "setVertexValue(_:at:)",
            "children": [
              {
                "kind": "TypeNominal",
                "name": "Void",
                "printedName": "()"
              },
              {
                "kind": "TypeNominal",
                "name": "Array",
                "printedName": "[τ_1_0]",
                "children": [
                  {
                    "kind": "TypeNominal",
                    "name": "GenericTypeParam",
                    "printedName": "τ_1_0"
                  }
                ],
                "usr": "s:Sa"
              },
              {
                "kind": "TypeNominal",
                "name": "Int",
                "printedName": "Swift.Int",
                "usr": "s:Si"
              }
            ],
            "declKind": "Func",
            "usr": "s:So23MTLRenderCommandEncoderP8MKDeviceE14setVertexValue_2atySayqd__G_SitlF",
            "mangledName": "$sSo23MTLRenderCommandEncoderP8MKDeviceE14setVertexValue_2atySayqd__G_SitlF",
            "moduleName": "MKDevice",
            "genericSig": "<τ_0_0, τ_1_0 where τ_0_0 : Metal.MTLRenderCommandEncoder>",
            "sugared_genericSig": "<Self, T where Self : Metal.MTLRenderCommandEncoder>",
            "isFromExtension": true,
            "funcSelfKind": "NonMutating"
          },
          {
            "kind": "Function",
            "name": "setFragmentValue",
            "printedName": "setFragmentValue(_:at:)",
            "children": [
              {
                "kind": "TypeNominal",
                "name": "Void",
                "printedName": "()"
              },
              {
                "kind": "TypeNominal",
                "name": "GenericTypeParam",
                "printedName": "τ_1_0"
              },
              {
                "kind": "TypeNominal",
                "name": "Int",
                "printedName": "Swift.Int",
                "usr": "s:Si"
              }
            ],
            "declKind": "Func",
            "usr": "s:So23MTLRenderCommandEncoderP8MKDeviceE16setFragmentValue_2atyqd___SitlF",
            "mangledName": "$sSo23MTLRenderCommandEncoderP8MKDeviceE16setFragmentValue_2atyqd___SitlF",
            "moduleName": "MKDevice",
            "genericSig": "<τ_0_0, τ_1_0 where τ_0_0 : Metal.MTLRenderCommandEncoder>",
            "sugared_genericSig": "<Self, T where Self : Metal.MTLRenderCommandEncoder>",
            "isFromExtension": true,
            "funcSelfKind": "NonMutating"
          },
          {
            "kind": "Function",
            "name": "setFragmentValue",
            "printedName": "setFragmentValue(_:at:)",
            "children": [
              {
                "kind": "TypeNominal",
                "name": "Void",
                "printedName": "()"
              },
              {
                "kind": "TypeNominal",
                "name": "Array",
                "printedName": "[τ_1_0]",
                "children": [
                  {
                    "kind": "TypeNominal",
                    "name": "GenericTypeParam",
                    "printedName": "τ_1_0"
                  }
                ],
                "usr": "s:Sa"
              },
              {
                "kind": "TypeNominal",
                "name": "Int",
                "printedName": "Swift.Int",
                "usr": "s:Si"
              }
            ],
            "declKind": "Func",
            "usr": "s:So23MTLRenderCommandEncoderP8MKDeviceE16setFragmentValue_2atySayqd__G_SitlF",
            "mangledName": "$sSo23MTLRenderCommandEncoderP8MKDeviceE16setFragmentValue_2atySayqd__G_SitlF",
            "moduleName": "MKDevice",
            "genericSig": "<τ_0_0, τ_1_0 where τ_0_0 : Metal.MTLRenderCommandEncoder>",
            "sugared_genericSig": "<Self, T where Self : Metal.MTLRenderCommandEncoder>",
            "isFromExtension": true,
            "funcSelfKind": "NonMutating"
          },
          {
            "kind": "Function",
            "name": "setVertexTextures",
            "printedName": "setVertexTextures(_:startingAt:)",
            "children": [
              {
                "kind": "TypeNominal",
                "name": "Void",
                "printedName": "()"
              },
              {
                "kind": "TypeNominal",
                "name": "Array",
                "printedName": "[Metal.MTLTexture?]",
                "children": [
                  {
                    "kind": "TypeNominal",
                    "name": "Optional",
                    "printedName": "Metal.MTLTexture?",
                    "children": [
                      {
                        "kind": "TypeNominal",
                        "name": "MTLTexture",
                        "printedName": "Metal.MTLTexture",
                        "usr": "c:objc(pl)MTLTexture"
                      }
                    ],
                    "usr": "s:Sq"
                  }
                ],
                "usr": "s:Sa"
              },
              {
                "kind": "TypeNominal",
                "name": "Int",
                "printedName": "Swift.Int",
                "hasDefaultArg": true,
                "usr": "s:Si"
              }
            ],
            "declKind": "Func",
            "usr": "s:So23MTLRenderCommandEncoderP8MKDeviceE17setVertexTextures_10startingAtySaySo10MTLTexture_pSgG_SitF",
            "mangledName": "$sSo23MTLRenderCommandEncoderP8MKDeviceE17setVertexTextures_10startingAtySaySo10MTLTexture_pSgG_SitF",
            "moduleName": "MKDevice",
            "genericSig": "<τ_0_0 where τ_0_0 : Metal.MTLRenderCommandEncoder>",
            "sugared_genericSig": "<Self where Self : Metal.MTLRenderCommandEncoder>",
            "isFromExtension": true,
            "funcSelfKind": "NonMutating"
          },
          {
            "kind": "Function",
            "name": "setVertexTextures",
            "printedName": "setVertexTextures(_:startingAt:)",
            "children": [
              {
                "kind": "TypeNominal",
                "name": "Void",
                "printedName": "()"
              },
              {
                "kind": "TypeNominal",
                "name": "Array",
                "printedName": "[Metal.MTLTexture?]",
                "children": [
                  {
                    "kind": "TypeNominal",
                    "name": "Optional",
                    "printedName": "Metal.MTLTexture?",
                    "children": [
                      {
                        "kind": "TypeNominal",
                        "name": "MTLTexture",
                        "printedName": "Metal.MTLTexture",
                        "usr": "c:objc(pl)MTLTexture"
                      }
                    ],
                    "usr": "s:Sq"
                  }
                ],
                "usr": "s:Sa"
              },
              {
                "kind": "TypeNominal",
                "name": "Int",
                "printedName": "Swift.Int",
                "hasDefaultArg": true,
                "usr": "s:Si"
              }
            ],
            "declKind": "Func",
            "usr": "s:So23MTLRenderCommandEncoderP8MKDeviceE17setVertexTextures_10startingAtySo10MTLTexture_pSgd_SitF",
            "mangledName": "$sSo23MTLRenderCommandEncoderP8MKDeviceE17setVertexTextures_10startingAtySo10MTLTexture_pSgd_SitF",
            "moduleName": "MKDevice",
            "genericSig": "<τ_0_0 where τ_0_0 : Metal.MTLRenderCommandEncoder>",
            "sugared_genericSig": "<Self where Self : Metal.MTLRenderCommandEncoder>",
            "isFromExtension": true,
            "funcSelfKind": "NonMutating"
          },
          {
            "kind": "Function",
            "name": "setFragmentTextures",
            "printedName": "setFragmentTextures(_:startingAt:)",
            "children": [
              {
                "kind": "TypeNominal",
                "name": "Void",
                "printedName": "()"
              },
              {
                "kind": "TypeNominal",
                "name": "Array",
                "printedName": "[Metal.MTLTexture?]",
                "children": [
                  {
                    "kind": "TypeNominal",
                    "name": "Optional",
                    "printedName": "Metal.MTLTexture?",
                    "children": [
                      {
                        "kind": "TypeNominal",
                        "name": "MTLTexture",
                        "printedName": "Metal.MTLTexture",
                        "usr": "c:objc(pl)MTLTexture"
                      }
                    ],
                    "usr": "s:Sq"
                  }
                ],
                "usr": "s:Sa"
              },
              {
                "kind": "TypeNominal",
                "name": "Int",
                "printedName": "Swift.Int",
                "hasDefaultArg": true,
                "usr": "s:Si"
              }
            ],
            "declKind": "Func",
            "usr": "s:So23MTLRenderCommandEncoderP8MKDeviceE19setFragmentTextures_10startingAtySaySo10MTLTexture_pSgG_SitF",
            "mangledName": "$sSo23MTLRenderCommandEncoderP8MKDeviceE19setFragmentTextures_10startingAtySaySo10MTLTexture_pSgG_SitF",
            "moduleName": "MKDevice",
            "genericSig": "<τ_0_0 where τ_0_0 : Metal.MTLRenderCommandEncoder>",
            "sugared_genericSig": "<Self where Self : Metal.MTLRenderCommandEncoder>",
            "isFromExtension": true,
            "funcSelfKind": "NonMutating"
          }
        ],
        "declKind": "Protocol",
        "usr": "c:objc(pl)MTLRenderCommandEncoder",
        "moduleName": "Metal",
        "genericSig": "<τ_0_0 : Metal.MTLCommandEncoder>",
        "sugared_genericSig": "<Self : Metal.MTLCommandEncoder>",
        "intro_iOS": "8.0",
        "objc_name": "MTLRenderCommandEncoder",
        "declAttributes": [
          "Available",
          "ObjC",
          "Dynamic"
        ],
        "isExternal": true
      },
      {
        "kind": "TypeDecl",
        "name": "UIColor",
        "printedName": "UIColor",
        "children": [
          {
            "kind": "Var",
            "name": "green_l",
            "printedName": "green_l",
            "children": [
              {
                "kind": "TypeNominal",
                "name": "UIColor",
                "printedName": "UIKit.UIColor",
                "usr": "c:objc(cs)UIColor"
              }
            ],
            "declKind": "Var",
            "usr": "s:So7UIColorC8MKDeviceE7green_lABvpZ",
            "mangledName": "$sSo7UIColorC8MKDeviceE7green_lABvpZ",
            "moduleName": "MKDevice",
            "static": true,
            "declAttributes": [
              "HasInitialValue",
              "Final",
              "HasStorage"
            ],
            "isFromExtension": true,
            "isLet": true,
            "hasStorage": true,
            "accessors": [
              {
                "kind": "Accessor",
                "name": "Get",
                "printedName": "Get()",
                "children": [
                  {
                    "kind": "TypeNominal",
                    "name": "UIColor",
                    "printedName": "UIKit.UIColor",
                    "usr": "c:objc(cs)UIColor"
                  }
                ],
                "declKind": "Accessor",
                "usr": "s:So7UIColorC8MKDeviceE7green_lABvgZ",
                "mangledName": "$sSo7UIColorC8MKDeviceE7green_lABvgZ",
                "moduleName": "MKDevice",
                "static": true,
                "implicit": true,
                "declAttributes": [
                  "Final"
                ],
                "isFromExtension": true,
                "accessorKind": "get"
              }
            ]
          },
          {
            "kind": "Var",
            "name": "green_d",
            "printedName": "green_d",
            "children": [
              {
                "kind": "TypeNominal",
                "name": "UIColor",
                "printedName": "UIKit.UIColor",
                "usr": "c:objc(cs)UIColor"
              }
            ],
            "declKind": "Var",
            "usr": "s:So7UIColorC8MKDeviceE7green_dABvpZ",
            "mangledName": "$sSo7UIColorC8MKDeviceE7green_dABvpZ",
            "moduleName": "MKDevice",
            "static": true,
            "declAttributes": [
              "HasInitialValue",
              "Final",
              "HasStorage"
            ],
            "isFromExtension": true,
            "isLet": true,
            "hasStorage": true,
            "accessors": [
              {
                "kind": "Accessor",
                "name": "Get",
                "printedName": "Get()",
                "children": [
                  {
                    "kind": "TypeNominal",
                    "name": "UIColor",
                    "printedName": "UIKit.UIColor",
                    "usr": "c:objc(cs)UIColor"
                  }
                ],
                "declKind": "Accessor",
                "usr": "s:So7UIColorC8MKDeviceE7green_dABvgZ",
                "mangledName": "$sSo7UIColorC8MKDeviceE7green_dABvgZ",
                "moduleName": "MKDevice",
                "static": true,
                "implicit": true,
                "declAttributes": [
                  "Final"
                ],
                "isFromExtension": true,
                "accessorKind": "get"
              }
            ]
          },
          {
            "kind": "Var",
            "name": "r",
            "printedName": "r",
            "children": [
              {
                "kind": "TypeNominal",
                "name": "Double",
                "printedName": "Swift.Double",
                "usr": "s:Sd"
              }
            ],
            "declKind": "Var",
            "usr": "s:So7UIColorC8MKDeviceE1rSdvp",
            "mangledName": "$sSo7UIColorC8MKDeviceE1rSdvp",
            "moduleName": "MKDevice",
            "isFromExtension": true,
            "accessors": [
              {
                "kind": "Accessor",
                "name": "Get",
                "printedName": "Get()",
                "children": [
                  {
                    "kind": "TypeNominal",
                    "name": "Double",
                    "printedName": "Swift.Double",
                    "usr": "s:Sd"
                  }
                ],
                "declKind": "Accessor",
                "usr": "s:So7UIColorC8MKDeviceE1rSdvg",
                "mangledName": "$sSo7UIColorC8MKDeviceE1rSdvg",
                "moduleName": "MKDevice",
                "isFromExtension": true,
                "accessorKind": "get"
              }
            ]
          },
          {
            "kind": "Var",
            "name": "g",
            "printedName": "g",
            "children": [
              {
                "kind": "TypeNominal",
                "name": "Double",
                "printedName": "Swift.Double",
                "usr": "s:Sd"
              }
            ],
            "declKind": "Var",
            "usr": "s:So7UIColorC8MKDeviceE1gSdvp",
            "mangledName": "$sSo7UIColorC8MKDeviceE1gSdvp",
            "moduleName": "MKDevice",
            "isFromExtension": true,
            "accessors": [
              {
                "kind": "Accessor",
                "name": "Get",
                "printedName": "Get()",
                "children": [
                  {
                    "kind": "TypeNominal",
                    "name": "Double",
                    "printedName": "Swift.Double",
                    "usr": "s:Sd"
                  }
                ],
                "declKind": "Accessor",
                "usr": "s:So7UIColorC8MKDeviceE1gSdvg",
                "mangledName": "$sSo7UIColorC8MKDeviceE1gSdvg",
                "moduleName": "MKDevice",
                "isFromExtension": true,
                "accessorKind": "get"
              }
            ]
          },
          {
            "kind": "Var",
            "name": "b",
            "printedName": "b",
            "children": [
              {
                "kind": "TypeNominal",
                "name": "Double",
                "printedName": "Swift.Double",
                "usr": "s:Sd"
              }
            ],
            "declKind": "Var",
            "usr": "s:So7UIColorC8MKDeviceE1bSdvp",
            "mangledName": "$sSo7UIColorC8MKDeviceE1bSdvp",
            "moduleName": "MKDevice",
            "isFromExtension": true,
            "accessors": [
              {
                "kind": "Accessor",
                "name": "Get",
                "printedName": "Get()",
                "children": [
                  {
                    "kind": "TypeNominal",
                    "name": "Double",
                    "printedName": "Swift.Double",
                    "usr": "s:Sd"
                  }
                ],
                "declKind": "Accessor",
                "usr": "s:So7UIColorC8MKDeviceE1bSdvg",
                "mangledName": "$sSo7UIColorC8MKDeviceE1bSdvg",
                "moduleName": "MKDevice",
                "isFromExtension": true,
                "accessorKind": "get"
              }
            ]
          },
          {
            "kind": "Var",
            "name": "a",
            "printedName": "a",
            "children": [
              {
                "kind": "TypeNominal",
                "name": "Double",
                "printedName": "Swift.Double",
                "usr": "s:Sd"
              }
            ],
            "declKind": "Var",
            "usr": "s:So7UIColorC8MKDeviceE1aSdvp",
            "mangledName": "$sSo7UIColorC8MKDeviceE1aSdvp",
            "moduleName": "MKDevice",
            "isFromExtension": true,
            "accessors": [
              {
                "kind": "Accessor",
                "name": "Get",
                "printedName": "Get()",
                "children": [
                  {
                    "kind": "TypeNominal",
                    "name": "Double",
                    "printedName": "Swift.Double",
                    "usr": "s:Sd"
                  }
                ],
                "declKind": "Accessor",
                "usr": "s:So7UIColorC8MKDeviceE1aSdvg",
                "mangledName": "$sSo7UIColorC8MKDeviceE1aSdvg",
                "moduleName": "MKDevice",
                "isFromExtension": true,
                "accessorKind": "get"
              }
            ]
          }
        ],
        "declKind": "Class",
        "usr": "c:objc(cs)UIColor",
        "moduleName": "UIKit",
        "isOpen": true,
        "intro_iOS": "2.0",
        "objc_name": "UIColor",
        "declAttributes": [
          "Available",
          "ObjC",
          "SynthesizedProtocol",
          "NonSendable",
          "Sendable",
          "Dynamic"
        ],
        "superclassUsr": "c:objc(cs)NSObject",
        "isExternal": true,
        "inheritsConvenienceInitializers": true,
        "superclassNames": [
          "ObjectiveC.NSObject"
        ],
        "conformances": [
          {
            "kind": "Conformance",
            "name": "Sendable",
            "printedName": "Sendable",
            "usr": "s:s8SendableP",
            "mangledName": "$ss8SendableP"
          },
          {
            "kind": "Conformance",
            "name": "Equatable",
            "printedName": "Equatable",
            "usr": "s:SQ",
            "mangledName": "$sSQ"
          },
          {
            "kind": "Conformance",
            "name": "Hashable",
            "printedName": "Hashable",
            "usr": "s:SH",
            "mangledName": "$sSH"
          },
          {
            "kind": "Conformance",
            "name": "CVarArg",
            "printedName": "CVarArg",
            "usr": "s:s7CVarArgP",
            "mangledName": "$ss7CVarArgP"
          },
          {
            "kind": "Conformance",
            "name": "_KeyValueCodingAndObservingPublishing",
            "printedName": "_KeyValueCodingAndObservingPublishing",
            "usr": "s:10Foundation37_KeyValueCodingAndObservingPublishingP",
            "mangledName": "$s10Foundation37_KeyValueCodingAndObservingPublishingP"
          },
          {
            "kind": "Conformance",
            "name": "_KeyValueCodingAndObserving",
            "printedName": "_KeyValueCodingAndObserving",
            "usr": "s:10Foundation27_KeyValueCodingAndObservingP",
            "mangledName": "$s10Foundation27_KeyValueCodingAndObservingP"
          },
          {
            "kind": "Conformance",
            "name": "CustomStringConvertible",
            "printedName": "CustomStringConvertible",
            "usr": "s:s23CustomStringConvertibleP",
            "mangledName": "$ss23CustomStringConvertibleP"
          },
          {
            "kind": "Conformance",
            "name": "CustomDebugStringConvertible",
            "printedName": "CustomDebugStringConvertible",
            "usr": "s:s28CustomDebugStringConvertibleP",
            "mangledName": "$ss28CustomDebugStringConvertibleP"
          },
          {
            "kind": "Conformance",
            "name": "_ExpressibleByColorLiteral",
            "printedName": "_ExpressibleByColorLiteral",
            "usr": "s:s26_ExpressibleByColorLiteralP",
            "mangledName": "$ss26_ExpressibleByColorLiteralP"
          }
        ]
      },
      {
        "kind": "TypeDecl",
        "name": "MTLTexture",
        "printedName": "MTLTexture",
        "children": [
          {
            "kind": "Var",
            "name": "cgImage",
            "printedName": "cgImage",
            "children": [
              {
                "kind": "TypeNominal",
                "name": "Optional",
                "printedName": "CoreGraphics.CGImage?",
                "children": [
                  {
                    "kind": "TypeNominal",
                    "name": "CGImage",
                    "printedName": "CoreGraphics.CGImage",
                    "usr": "c:@T@CGImageRef"
                  }
                ],
                "usr": "s:Sq"
              }
            ],
            "declKind": "Var",
            "usr": "s:So10MTLTextureP8MKDeviceE7cgImageSo10CGImageRefaSgvp",
            "mangledName": "$sSo10MTLTextureP8MKDeviceE7cgImageSo10CGImageRefaSgvp",
            "moduleName": "MKDevice",
            "declAttributes": [
              "AccessControl"
            ],
            "isFromExtension": true,
            "accessors": [
              {
                "kind": "Accessor",
                "name": "Get",
                "printedName": "Get()",
                "children": [
                  {
                    "kind": "TypeNominal",
                    "name": "Optional",
                    "printedName": "CoreGraphics.CGImage?",
                    "children": [
                      {
                        "kind": "TypeNominal",
                        "name": "CGImage",
                        "printedName": "CoreGraphics.CGImage",
                        "usr": "c:@T@CGImageRef"
                      }
                    ],
                    "usr": "s:Sq"
                  }
                ],
                "declKind": "Accessor",
                "usr": "s:So10MTLTextureP8MKDeviceE7cgImageSo10CGImageRefaSgvg",
                "mangledName": "$sSo10MTLTextureP8MKDeviceE7cgImageSo10CGImageRefaSgvg",
                "moduleName": "MKDevice",
                "genericSig": "<τ_0_0 where τ_0_0 : Metal.MTLTexture>",
                "sugared_genericSig": "<Self where Self : Metal.MTLTexture>",
                "isFromExtension": true,
                "accessorKind": "get"
              }
            ]
          }
        ],
        "declKind": "Protocol",
        "usr": "c:objc(pl)MTLTexture",
        "moduleName": "Metal",
        "genericSig": "<τ_0_0 : Metal.MTLResource>",
        "sugared_genericSig": "<Self : Metal.MTLResource>",
        "intro_iOS": "8.0",
        "objc_name": "MTLTexture",
        "declAttributes": [
          "Available",
          "ObjC",
          "Dynamic"
        ],
        "isExternal": true
      }
    ],
    "json_format_version": 8
  },
  "ConstValues": [
    {
      "filePath": "\/Users\/demiannezhdanov\/Projects\/BodyFaceTune\/FaceBody\/FaceBodyTools\/FaceBodyTools\/Metal\/MetalRenderer.swift",
      "kind": "FloatLiteral",
      "offset": 343,
      "length": 3,
      "value": "0.0"
    },
    {
      "filePath": "\/Users\/demiannezhdanov\/Projects\/BodyFaceTune\/FaceBody\/FaceBodyTools\/FaceBodyTools\/Metal\/MetalRenderer.swift",
      "kind": "FloatLiteral",
      "offset": 378,
      "length": 3,
      "value": "0.0"
    },
    {
      "filePath": "\/Users\/demiannezhdanov\/Projects\/BodyFaceTune\/FaceBody\/FaceBodyTools\/FaceBodyTools\/Metal\/MetalRenderer.swift",
      "kind": "FloatLiteral",
      "offset": 411,
      "length": 3,
      "value": "0.0"
    },
    {
      "filePath": "\/Users\/demiannezhdanov\/Projects\/BodyFaceTune\/FaceBody\/FaceBodyTools\/FaceBodyTools\/Metal\/MetalRenderer.swift",
      "kind": "FloatLiteral",
      "offset": 445,
      "length": 3,
      "value": "0.0"
    },
    {
      "filePath": "\/Users\/demiannezhdanov\/Projects\/BodyFaceTune\/FaceBody\/FaceBodyTools\/FaceBodyTools\/Metal\/MetalRenderer.swift",
      "kind": "FloatLiteral",
      "offset": 510,
      "length": 3,
      "value": "0.0"
    },
    {
      "filePath": "\/Users\/demiannezhdanov\/Projects\/BodyFaceTune\/FaceBody\/FaceBodyTools\/FaceBodyTools\/Metal\/MetalRenderer.swift",
      "kind": "FloatLiteral",
      "offset": 514,
      "length": 3,
      "value": "0.0"
    },
    {
      "filePath": "\/Users\/demiannezhdanov\/Projects\/BodyFaceTune\/FaceBody\/FaceBodyTools\/FaceBodyTools\/Metal\/MetalRenderer.swift",
      "kind": "FloatLiteral",
      "offset": 550,
      "length": 4,
      "value": "0.25"
    },
    {
      "filePath": "\/Users\/demiannezhdanov\/Projects\/BodyFaceTune\/FaceBody\/FaceBodyTools\/FaceBodyTools\/Metal\/MetalRenderer.swift",
      "kind": "BooleanLiteral",
      "offset": 578,
      "length": 4,
      "value": "true"
    },
    {
      "filePath": "\/Users\/demiannezhdanov\/Projects\/BodyFaceTune\/FaceBody\/FaceBodyTools\/FaceBodyTools\/Metal\/MetalRenderer.swift",
      "kind": "IntegerLiteral",
      "offset": 665,
      "length": 1,
      "value": "1"
    },
    {
      "filePath": "\/Users\/demiannezhdanov\/Projects\/BodyFaceTune\/FaceBody\/FaceBodyTools\/FaceBodyTools\/Metal\/MetalRenderer.swift",
      "kind": "StringLiteral",
      "offset": 883,
      "length": 16,
      "value": "\"final_fragment\""
    },
    {
      "filePath": "\/Users\/demiannezhdanov\/Projects\/BodyFaceTune\/FaceBody\/FaceBodyTools\/FaceBodyTools\/Metal\/MetalRenderer.swift",
      "kind": "StringLiteral",
      "offset": 909,
      "length": 14,
      "value": "\"model_vertex\""
    },
    {
      "filePath": "\/Users\/demiannezhdanov\/Projects\/BodyFaceTune\/FaceBody\/FaceBodyTools\/FaceBodyTools\/Metal\/MetalRenderer.swift",
      "kind": "Array",
      "offset": 1125,
      "length": 67,
      "value": "[\"slim\", \"tall\", \"vertex_shader\", \"vertex_shader\", \"vertex_shader\"]"
    },
    {
      "filePath": "\/Users\/demiannezhdanov\/Projects\/BodyFaceTune\/FaceBody\/FaceBodyTools\/FaceBodyTools\/Metal\/MetalRenderer.swift",
      "kind": "Array",
      "offset": 1228,
      "length": 2,
      "value": "[]"
    },
    {
      "filePath": "\/Users\/demiannezhdanov\/Projects\/BodyFaceTune\/FaceBody\/FaceBodyTools\/FaceBodyTools\/Metal\/MetalRenderer.swift",
      "kind": "IntegerLiteral",
      "offset": 1260,
      "length": 1,
      "value": "0"
    },
    {
      "filePath": "\/Users\/demiannezhdanov\/Projects\/BodyFaceTune\/FaceBody\/FaceBodyTools\/FaceBodyTools\/Metal\/MetalRenderer.swift",
      "kind": "BooleanLiteral",
      "offset": 1282,
      "length": 4,
      "value": "true"
    },
    {
      "filePath": "\/Users\/demiannezhdanov\/Projects\/BodyFaceTune\/FaceBody\/FaceBodyTools\/FaceBodyTools\/Metal\/MetalRenderer.swift",
      "kind": "Array",
      "offset": 1334,
      "length": 41,
      "value": "[\"slim\", \"tall\", \"head\", \"hips\", \"waist\"]"
    },
    {
      "filePath": "\/Users\/demiannezhdanov\/Projects\/BodyFaceTune\/FaceBody\/FaceBodyTools\/FaceBodyTools\/Metal\/MDevice.swift",
      "kind": "Array",
      "offset": 4168,
      "length": 2,
      "value": "[]"
    },
    {
      "filePath": "\/Users\/demiannezhdanov\/Projects\/BodyFaceTune\/FaceBody\/FaceBodyTools\/FaceBodyTools\/Metal\/MDevice.swift",
      "kind": "Array",
      "offset": 5501,
      "length": 2,
      "value": "[]"
    },
    {
      "filePath": "\/Users\/demiannezhdanov\/Projects\/BodyFaceTune\/FaceBody\/FaceBodyTools\/FaceBodyTools\/Metal\/MDevice.swift",
      "kind": "Array",
      "offset": 5527,
      "length": 2,
      "value": "[]"
    },
    {
      "filePath": "\/Users\/demiannezhdanov\/Projects\/BodyFaceTune\/FaceBody\/FaceBodyTools\/FaceBodyTools\/Metal\/MDevice.swift",
      "kind": "Array",
      "offset": 5557,
      "length": 2,
      "value": "[]"
    },
    {
      "filePath": "\/Users\/demiannezhdanov\/Projects\/BodyFaceTune\/FaceBody\/FaceBodyTools\/FaceBodyTools\/Metal\/MDevice.swift",
      "kind": "StringLiteral",
      "offset": 7999,
      "length": 15,
      "value": "\"vertex_shader\""
    },
    {
      "filePath": "\/Users\/demiannezhdanov\/Projects\/BodyFaceTune\/FaceBody\/FaceBodyTools\/FaceBodyTools\/Metal\/MDevice.swift",
      "kind": "StringLiteral",
      "offset": 10383,
      "length": 15,
      "value": "\"vertex_shader\""
    },
    {
      "filePath": "\/Users\/demiannezhdanov\/Projects\/BodyFaceTune\/FaceBody\/FaceBodyTools\/FaceBodyTools\/Metal\/MDevice.swift",
      "kind": "IntegerLiteral",
      "offset": 22256,
      "length": 1,
      "value": "0"
    },
    {
      "filePath": "\/Users\/demiannezhdanov\/Projects\/BodyFaceTune\/FaceBody\/FaceBodyTools\/FaceBodyTools\/Metal\/MDevice.swift",
      "kind": "IntegerLiteral",
      "offset": 22448,
      "length": 1,
      "value": "0"
    },
    {
      "filePath": "\/Users\/demiannezhdanov\/Projects\/BodyFaceTune\/FaceBody\/FaceBodyTools\/FaceBodyTools\/Metal\/MDevice.swift",
      "kind": "IntegerLiteral",
      "offset": 22641,
      "length": 1,
      "value": "0"
    },
    {
      "filePath": "\/Users\/demiannezhdanov\/Projects\/BodyFaceTune\/FaceBody\/FaceBodyTools\/FaceBodyTools\/Metal\/MDevice.swift",
      "kind": "FloatLiteral",
      "offset": 22813,
      "length": 5,
      "value": "0.067"
    },
    {
      "filePath": "\/Users\/demiannezhdanov\/Projects\/BodyFaceTune\/FaceBody\/FaceBodyTools\/FaceBodyTools\/Metal\/MDevice.swift",
      "kind": "FloatLiteral",
      "offset": 22827,
      "length": 5,
      "value": "0.729"
    },
    {
      "filePath": "\/Users\/demiannezhdanov\/Projects\/BodyFaceTune\/FaceBody\/FaceBodyTools\/FaceBodyTools\/Metal\/MDevice.swift",
      "kind": "FloatLiteral",
      "offset": 22840,
      "length": 4,
      "value": "0.65"
    },
    {
      "filePath": "\/Users\/demiannezhdanov\/Projects\/BodyFaceTune\/FaceBody\/FaceBodyTools\/FaceBodyTools\/Metal\/MDevice.swift",
      "kind": "IntegerLiteral",
      "offset": 22853,
      "length": 1,
      "value": "1"
    },
    {
      "filePath": "\/Users\/demiannezhdanov\/Projects\/BodyFaceTune\/FaceBody\/FaceBodyTools\/FaceBodyTools\/Metal\/MDevice.swift",
      "kind": "FloatLiteral",
      "offset": 22898,
      "length": 5,
      "value": "0.071"
    },
    {
      "filePath": "\/Users\/demiannezhdanov\/Projects\/BodyFaceTune\/FaceBody\/FaceBodyTools\/FaceBodyTools\/Metal\/MDevice.swift",
      "kind": "FloatLiteral",
      "offset": 22912,
      "length": 5,
      "value": "0.195"
    },
    {
      "filePath": "\/Users\/demiannezhdanov\/Projects\/BodyFaceTune\/FaceBody\/FaceBodyTools\/FaceBodyTools\/Metal\/MDevice.swift",
      "kind": "FloatLiteral",
      "offset": 22925,
      "length": 5,
      "value": "0.213"
    },
    {
      "filePath": "\/Users\/demiannezhdanov\/Projects\/BodyFaceTune\/FaceBody\/FaceBodyTools\/FaceBodyTools\/Metal\/MDevice.swift",
      "kind": "IntegerLiteral",
      "offset": 22939,
      "length": 1,
      "value": "1"
    },
    {
      "filePath": "\/Users\/demiannezhdanov\/Projects\/BodyFaceTune\/FaceBody\/FaceBodyTools\/FaceBodyTools\/Metal\/MDevice.swift",
      "kind": "StringLiteral",
      "offset": 23233,
      "length": 17543,
      "value": "\"\/\/\n\/\/  ShaderMain.metal\n\/\/  MeshTools\n\/\/\n\/\/  Created by Demian Nezhdanov on 01.10.2021.\n\/\/\n\n#include <metal_stdlib>\nusing namespace metal;\n\n\n\n\n\n\nstruct BufferData {\n\n    float2 position;\n    float2 scale;\n    float rotation;\n    float intensity;\n    float topPos;\n    float bottomPos;\n    float leftPos;\n    float rightPos;\n    float2 res;\n    float2 viewRes;\n    float smoothness;\n    bool selected;\n \n};\n\n\n\n\n\n\n\/\/MARK:\n\nfloat3 blr(texture2d<float> tex, float2 uv, float rad){\n     constexpr sampler sam(filter::linear);\n     float3 blur = float3(0.0);\n    float2 res = float2( (tex.get_width()) , (tex.get_height()) );\n         float sum = 0.0;\n \n         for(float u = -rad; u<=rad; u+=5){\n             for(float v = -rad; v<=rad; v+=5){\n \n                 float weight = rad*10. - sqrt(u * u + v * v);\n                \/\/ uv + (float2(u, v)\/res)\n                 blur += weight * tex.sample(sam,uv + (float2(u, v)\/res)).rgb;\n                 sum += weight;\n             }\n         }\n         blur \/= sum;\n     \n    return blur;\n}\nfloat2 Distort(float2 p,  float2 d, float rad)\n{\n     p-=d;\n    float theta  = atan2(p.y, p.x);\n    float radius = length(p);\n    radius = pow(radius,1.0 + rad);\n    p.x = radius * cos(theta);\n    p.y = radius * sin(theta);\n    p = (p\/1.0 + d);\n    return  (p);\n}\nfloat line(float2 p, float2 a, float2 b,float2 res){\n    float2 pa = p-a;\n    float2 ba = b-a;\n\n    float t = clamp(dot(pa, ba)\/dot(ba,ba),0.,1.0);\n    float2 cv = pa - ba*t;\n    cv.y *= res.y\/res.x;\n    float d = length(cv);\n    if(distance(a, b)>2.){return 2.;}else{\n    return ( d);\n    }\n}\n\nfloat2 distort(float2 p,  float2 d)\n{\n     p-=d;\n    float theta  = atan2(p.y, p.x);\n    float radius = length(p);\n    radius = pow(radius,1.2);\n    p.x = radius * cos(theta);\n    p.y = radius * sin(theta);\n    p = (p\/1.0 + d);\n    return  (p);\n}\n\n\nfloat2 dist(float2 p,  float2 d,float r)\n{\n     p-=d;\n    float theta  = atan2(p.y, p.x);\n    float radius = length(p);\n    radius = pow(radius,r + 1.0);\n    p.x = radius * cos(theta);\n    p.y = radius * sin(theta);\n    p = (p\/1.0 + d);\n    return  (p);\n}\n\n\/\/MARK:\n\n\n\n\n\n\n\n\n\n\nstruct VertIn {\n     float2 position [[attribute(0)]];\n     float2 textureCoorinates [[attribute(1)]];\n};\n\nstruct VertexOut {\n     float4 position [[position]];\n     float2 textureCoorinates;\n};\nstruct VertexIn {\n     float3 position [[attribute(0)]];\n    \n     float2 textureCoorinates [[attribute(1)]];\n};\n\nstruct VertOut {\n     float4 position [[position]];\n    float2 textureCoorinates;\n     float3 color;\n};\n\n\n\n\/\/MARK: vertex\nvertex VertexOut model_vertex(VertexIn vertexBuffer [[stage_in]],\n                           constant BufferData &buffer_slim [[buffer(3)]],\n                              constant BufferData &buffer_tall [[buffer(4)]]) {\n\n\n    VertexOut vertexDataOut;\n    float4 pos = float4(vertexBuffer.position.x, vertexBuffer.position.y, 0.0, 1.0);\n    float2 texCoord = vertexBuffer.textureCoorinates;\n    texCoord.y = 1.0 - texCoord.y;\n    float aspect = buffer_slim.res.x \/ buffer_slim.res.y;\n    float aE = buffer_slim.viewRes.x\/buffer_slim.viewRes.y;\n    float2 offset = float2(0.0);\n    \n    if(aspect < 1.0){\n        pos.x *= aspect;\n    }else{\n        pos.y \/= aspect;\n    }\n    pos.x \/= aE;\n\/\/    if(aE < 1.0){\n\/\/        pos.x *= aE;\n\/\/    }else{\n\/\/        pos.y \/= aE;\n\/\/    }\n    \n    \n    \n    \/\/___________________________________________________________________________________________________________________\n    \n    \n  \n   float2 m = buffer_slim.position;\n   float slimIntensity = 1.0 + buffer_slim.intensity\/3.;\n   float center = m.x;\n   float width =  buffer_slim.scale.x\/5.;\n    \n    m.y = 1.0 - buffer_tall.position.y*2.;\n    float intensity = 1.0 + buffer_tall.intensity\/2.;\n    float height =  buffer_tall.scale.y\/5.;\n    \n    \n    \/\/ Перевод в локальные координаты\n    pos.x+=0.5;\n    pos.x -= m.x;\n    pos.x *= slimIntensity;\n    \n    if(abs(pos.x) >= width){\n        pos.x = pos.x + sign(pos.x) * width * (slimIntensity - 1.0);\n    }else{\n        pos.x = pos.x * slimIntensity;\n    }\n    \n    pos.x \/= slimIntensity;\n    pos.x += m.x;\n    pos.x-=0.5;\n    \n   \n    pos.x+=0.5;\n    pos.y -=  m.y;\n    pos.y *= intensity;\n    pos.y = abs(pos.y) >= height ? pos.y + sign(pos.y) * height * (intensity - 1.0): pos.y * intensity;\n    \n    pos.x \/=  1.0 + (buffer_tall.intensity\/3. * height\/2 );\n    pos.y \/= intensity;\n    pos.y +=  m.y;\n    pos.x-=0.5;\n    \n    pos.x += (buffer_tall.intensity\/3. * height\/2 )\/2;\n    pos.xy \/=  1.0 + (buffer_tall.intensity\/2. * height\/1.5 );\n\n    \n    \n    vertexDataOut.position = pos;\n    vertexDataOut.textureCoorinates = texCoord;\n     return vertexDataOut;\n}\n\n\n\nvertex VertexOut vertex_shader(constant VertIn* vertexArray [[buffer(0)]],\n                               texture2d<float, access::sample> drQW [[texture(17)]],\n                               constant BufferData &buffer [[buffer(1)]],\n                               unsigned int vid [[vertex_id]]) {\n     \n     VertIn vertexData = vertexArray[vid];\n     VertexOut vertexDataOut;\n    float4 pos = float4(vertexData.position.x, vertexData.position.y, 0.0, 1.0);\n    float2 texcoord = vertexData.textureCoorinates.xy;\n\/\/\n\/\/    texcoord.y -= 0.5;\n\/\/    texcoord.y *= 1.0 + buffer.intensity;\n\/\/\n\/\/    texcoord.y += 0.5;\n    float2 m = buffer.position;\n    float intensity =  buffer.intensity;\n\/\/    float3 color = float3(0.0);\n\/\/     float FirstPlane = 0.55;\n\/\/     float SecondPlane = 0.45;\n\/\/     float ScalePower = 1.0 - intensity\/3.;\n\/\/     float2 po = pos.xy;\n\/\/     float ScaleCenter = m.y;\n\/\/     float HalfSize = abs(FirstPlane - SecondPlane) * 0.5;\n\/\/     po.y -= ScaleCenter;\n\/\/     po.y *= ScalePower;\n\/\/     float ScaleFactor = HalfSize > 0.0 ? abs(po.y) \/ HalfSize : 0.0;\n\/\/     po.y = abs(po.y) >= HalfSize ? po.y + sign(po.y) * HalfSize * (ScalePower - 1.0): po.y * ScalePower;\n\/\/     po.y \/= ScalePower;\n\/\/     po.y += ScaleCenter;\n\/\/     po.y *= 1.0 + intensity\/12;\n\/\/\n    \n\/\/    pos.xy = po;\n    vertexDataOut.position = pos;\n     vertexDataOut.textureCoorinates = texcoord;\n    \n    \n        \n     return vertexDataOut;\n}\n\n\nvertex VertexOut vertex_final_shader(constant VertexIn* vertexArray [[buffer(0)]],\n                               texture2d<float, access::sample> drQW [[texture(17)]],\n                               unsigned int vid [[vertex_id]]) {\n     \n     VertexIn vertexData = vertexArray[vid];\n     VertexOut vertexDataOut;\n    float4 pos = float4(vertexData.position.x, vertexData.position.y, 0.0, 1.0);\n    float2 texcoord = vertexData.textureCoorinates.xy;\n\n\/\/    pos.xy += dcol;\n    \n    vertexDataOut.position = pos;\n     vertexDataOut.textureCoorinates = texcoord;\n    \n    \n        \n     return vertexDataOut;\n}\n\n\n\n\n\/\/MARK: vertex\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconstexpr sampler sam( filter::linear, address::clamp_to_edge  );\n\n\n\n\n\/\/MARK: slim\n\nfragment float4 slim(VertexOut fragmentIn [[stage_in]],\n                               constant BufferData &buffer [[buffer(0)]],\n                     texture2d<float, access::sample> img [[texture(1)]]) {\n\n    float2 uv = fragmentIn.textureCoorinates;\n    float2 res = float2(img.get_width(),img.get_height());\n\n\/\/    uv.x = 1.0 - uv.x;\n   float2 m = buffer.position;\n    m.x = 1.0 - m.x;\n   float intensity = 1.0 - buffer.intensity\/3.;\n    float2 po = uv;\n\n    float center = m.x;\n    \n    float width =  buffer.scale.x\/10.;\n\/\/    float f =\n    \/\/ Перевод в локальные координаты\n    po.x -= m.x;\n    po.x *= intensity;\n    \n    float ScaleFactor = width > 0.0 ? abs(po.x) \/ width : 0.0;\n    \n\/\/    po.x = po.x + sign(po.x) * width * (intensity - 1.0);\n\/\/    po.x *=intensity;\n    if(abs(po.x) >= width){\n        po.x = po.x + sign(po.x) * width * (intensity - 1.0);\n    }else{\n        po.x = po.x * intensity;\n    }\n\/\/    po.x = abs(po.x) >= width ? po.x + sign(po.x) * width * (intensity - 1.0): po.x * intensity;\n  \n    \n    po.x \/= intensity;\n    po.x += m.x;\n   \n\n   float3 color = img.sample(sam, uv ).rgb;\n\n   \n    \n    \/\/ Код для отладки - вывод рамки, и центра\n    if(buffer.selected){\n        color = mix(float3(1.0, 0.0, 0.0), color, 0.5 + 0.5 * step(0.005, abs(width - abs(po.x - center))));\n        \/\/ Код для отладки - вывод центра\n        color = mix(float3(0.0, 1.0, 0.0), color, 0.5 + 0.5 * step(0.045, abs(ScaleFactor)));\n    }\n\/\/    color += col;\n    return float4(color, 1.0);\n   \n}\n\n\n\n\/\/MARK: tall\nfragment float4 tall(VertexOut fragmentIn [[stage_in]],\n                               constant BufferData &buffer [[buffer(0)]],\n                     texture2d<float, access::sample> img [[texture(1)]]) {\n    float2 uv = fragmentIn.textureCoorinates;\n\/\/    uv.x = 1.0 - uv.x;\n    float2 m = buffer.position;\n    m.x = 1.0 - m.x;\n\/\/    m.y = 1.0 - buffer.position.y;\n\n    float3 color = float3(0.0);\n    \n    \n    \n    float2 po = uv;\n\/\/    float intensity = 1.0 - buffer.intensity\/3.;\n    float height =  buffer.scale.y\/6.;\n  \n\/\/    po.y -=  m.y;\n\/\/    po.y *= intensity;\n\/\/    po.y = abs(po.y) >= height ? po.y + sign(po.y) * height * (intensity - 1.0): po.y * intensity;\n\/\/    po.y \/= intensity;\n\/\/    po.y +=  m.y;\n    \n    color = img.sample(sam, uv ).rgb;\n    \n    \n    if( buffer.selected){\n        \/\/ Код для отладки - вывод рамки\n       color = mix(float3(1.0, 0.0, 0.0), color, 0.5 + 0.5 * step(0.01, abs(height - abs(po.y - m.y))));\n        \/\/ Код для отладки - вывод центра\n        color = mix(float3(0.0, 1.0, 0.0), color, 0.5 + 0.5 * step(0.08, abs(height > 0.0 ? abs(po.y) \/ height : 0.0)));\n    }\n    \n    \n\n    return float4(color, 1.0);\n}\n\n\n\n\n\/\/MARK: head\nfragment float4 head(VertexOut fragmentIn [[stage_in]],\n                               constant BufferData &buffer [[buffer(0)]],\n                     texture2d<float, access::sample> img [[texture(1)]]) {\n    \n    float2 uv = fragmentIn.textureCoorinates;\n\/\/    uv.x = 1.0 - uv.x;\n   float2 m = buffer.position;\n    m.x = 1.0 - m.x;\n   float intensity = abs(1.0 + buffer.intensity*2);\n   float3 color = float3(0.0);\n    float2 res = float2(img.get_width(),img.get_height());\n    float2 po = uv - m;\n    float2 scale = buffer.scale\/2. + 0.0001;\n    \n    \n    float aspect = res.y \/ res.x;\n    \n    float area = length(float2(uv.x,uv.y*aspect) - float2(m.x,m.y * aspect));\n    float smooth =  buffer.smoothness;\n    area = smoothstep(scale.x ,scale.x *(1.0 - smooth) , (area));\n    \n  \n    uv-=m;\n    float2 dis = uv;\n    float2 dismin = uv;\/\/Distort(uv, po, intensity\/112. );\n    dis \/= 1. + intensity\/12.;\n    dismin *= 1. + intensity\/12.;\n    if(buffer.intensity>=0.0){\n        uv = mix(uv,dis,area*abs(buffer.intensity*2.));\n    }else{\n        uv = mix(uv,dismin,area*abs(buffer.intensity*2.));\n    }\n    uv+=m;\n    \n    \n    \n    color = img.sample(sam, uv ).rgb;\n    float PatternRadius = scale.x  ;\n    po.y *= res.y \/ res.x;\n    float FadeFactor = clamp(length(po) \/ PatternRadius, 0.0, 1.0);\n    \/\/ Код для отладки - вывод рамки, и центра\n    if(buffer.selected){\n        \/\/ Код для отладки - вывод рамки\n        color = mix(float3(1.0, 0.0, 0.0), color, step(0.022, abs(FadeFactor - 0.95)));\n        \/\/ Код для отладки - вывод центра\n        color = mix(float3(0.0, 1.0, 0.0), color, step(2.0, distance(uv*res, m * res.xy)));\n    }\n\/\/    color += float3(area);\n    return float4(color, 1.0);\n}\n\n#define M_PI 3.14159\n\n\/\/Настройка Фигуры - Степень\n#define HIPS_POWER 2.0\n\/\/Настройка Фигуры - Форма (0.0 - волчёк, 1.0 - квадрат)\n#define HIPS_FORM 0.3\n\n\/\/Отладочная информация\n\/\/#define DEBUG_DRAW_FRAME\n\n\/\/Temp code (make it uniform)\n\/\/float HalfWidth = 0.1;\n\/\/float HalfHeight = 0.1;\n\/\/float RotateAngle = 0.0;\n\/\/float StretchFactor = 1.0;\n\/\/vec2 PatternCenter = vec2(0.5, 0.5);\n\/\/MARK: hips\nfragment float4 hips(VertexOut fragmentIn [[stage_in]],\n                               constant BufferData &buffer [[buffer(0)]],\n                     texture2d<float, access::sample> img [[texture(1)]]) {\n    \n    float2 uv = fragmentIn.textureCoorinates;\n\/\/    uv.x = 1.0 - uv.x;\n   float2 m = buffer.position;\n    m.x = 1.0 - m.x;\n   float intensity = 1.0 + buffer.intensity*2;\n   float3 color = float3(0.0);\n    float2 res = float2(img.get_width(),img.get_height());\n    float2 po = uv - m;\n    po.y *= res.y \/ res.x;\n    \n    float HalfWidth = buffer.scale.x\/2.;\n    float HalfHeight = buffer.scale.y\/2.;\n    float rotation = buffer.rotation;\n    \n    \n   \n    \n    \/\/Координаты, которые будем вращать\n    float2 poRotate = po;\n    \n    \/\/Вращаем изображение под нужный угол\n    poRotate.x = po.x * cos(-rotation) - po.y * sin(-rotation);\n    poRotate.y = po.x * sin(-rotation) + po.y * cos(-rotation);\n    \n    \/\/w - фактор затухания по Ширине, h - фактор затухания по высоте\n    float w = clamp(abs(poRotate.x) \/ HalfWidth, 0.0, 1.0);\n    float h = clamp(abs(poRotate.y) \/ HalfHeight, 0.0, 1.0);\n    \n    \/\/Расчет формы, t - Фактор искажения\n    float t = mix(1.0 - pow(h, HIPS_POWER), 1.0, HIPS_FORM);\n    t = 1.0 - mix(clamp((t - w), 0.0, 1.0), 0.0, h);\n    \n    \/\/Искажение по ширине, t - Фактор искажения, StretchFactor - сила искажения\n    poRotate.x \/= mix(intensity, 1.0, t);\n    \n    \/\/Возвращаем изначальный поворот\n    po.x = poRotate.x * cos(rotation) - poRotate.y * sin(rotation);\n    po.y = poRotate.x * sin(rotation) + poRotate.y * cos(rotation);\n    \n    \/\/Возвращаем изначальный масштаб\n    po.y *= res.x \/ res.y;\n    \n    \/\/Прибавляем цент обратно\n    po += m;\n\n    \/\/ Выборка текстуры, на которую используется фильтр\n    color = img.sample(sam, po ).rgb;\n    \/\/ Код для отладки - вывод рамки, и центра\n\n    if(buffer.selected){\n        \/\/ Код для отладки - вывод рамки\n        color = mix(float3(1.0, 0.0, 0.0), color, step(0.01, abs(t - 0.98)));\n        \/\/ Код для отладки - вывод центра\n        color = mix(float3(0.0, 1.0, 0.0), color, step(2.0, distance(fragmentIn.textureCoorinates*res, m * res.xy)));\n    }\n\n    \n    \/\/ Вывод конечного изображения\n    return float4(color, 1.0);\n}\n\n\n\n\n\/\/Настройка Фигуры - Степень\n#define WAIST_POWER 2.0\n\/\/Настройка Фигуры - Форма (0.0 - песочные часы, 1.0 - квадрат)\n#define WAIST_FORM 0.6\n\n\n\/\/MARK: waist\nfragment float4 waist(VertexOut fragmentIn [[stage_in]],\n                               constant BufferData &buffer [[buffer(0)]],\n                     texture2d<float, access::sample> img [[texture(1)]]) {\n    \n    \n    \n    float2 uv = fragmentIn.textureCoorinates;\n\/\/    uv.x = 1.0 - uv.x;\n   float2 m = buffer.position;\n    m.x = 1.0 - m.x;\n   float intensity = 1.0 + buffer.intensity;\n   float3 color = float3(0.0);\n    float2 res = float2(img.get_width(),img.get_height());\n  \n    float2 po = uv - m;\n    \n    \n    float HalfWidth = buffer.scale.x\/2.;\n    float HalfHeight = buffer.scale.y\/2.;\n    float rotation = buffer.rotation;\n    float CompressFactor = intensity;\n    \n    po.y *= res.y \/ res.x;\n    \n    \/\/Координаты, которые будем вращать\n    float2 poRotate = po;\n    \n    \/\/Вращаем изображение под нужный угол\n    poRotate.x = po.x * cos(-rotation) - po.y * sin(-rotation);\n    poRotate.y = po.x * sin(-rotation) + po.y * cos(-rotation);\n    \n    \/\/w - фактор затухания по Ширине, h - фактор затухания по высоте\n    float w = clamp(abs(poRotate.x) \/ HalfWidth, 0.0, 1.0);\n    float h = clamp(abs(poRotate.y) \/ HalfHeight, 0.0, 1.0);\n    \n    \/\/Расчет формы, t - Фактор искажения\n    float t = mix(pow(h, WAIST_POWER), 1.0, WAIST_FORM);\n    t = 1.0 - mix(clamp((t - w), 0.0, 1.0), 0.0, h);\n    \n    \/\/Искажение по ширине, t - Фактор искажения, CompressFactor - сила искажения\n    poRotate.x *= mix(CompressFactor, 1.0, t);\n    \n    \/\/Возвращаем изначальный поворот\n    po.x = poRotate.x * cos(rotation) - poRotate.y * sin(rotation);\n    po.y = poRotate.x * sin(rotation) + poRotate.y * cos(rotation);\n    \n    \/\/Возвращаем изначальный масштаб\n    po.y *= res.x \/ res.y;\n    \n    \/\/Прибавляем цент обратно\n    po += m;\n\n    color = img.sample(sam, po ).rgb;\n    \n    if(buffer.selected){\n        color = mix(float3(1.0, 0.0, 0.0), color, step(0.01, abs(t - 0.98)));\n        \/\/ Код для отладки - вывод центра\n        color = mix(float3(0.0, 1.0, 0.0), color, step(2.0, distance(fragmentIn.textureCoorinates*res, m * res.xy)));\n    }\n\n    \/\/ Вывод конечного изображения\n    return float4(color, 1.0);\n}\n\n\n\n\/\/MARK: final_fragment\nfragment float4 final_fragment(VertexOut fragmentIn [[stage_in]],\n                            \n                     texture2d<float, access::sample> img [[texture(1)]]) {\n    float2 uv = fragmentIn.textureCoorinates;\n    uv.x = 1.0 - uv.x;\n\n    float3 color = img.sample(sam, uv ).rgb;\n    return float4(color, 1.0);\n}\n\""
    },
    {
      "filePath": "\/Users\/demiannezhdanov\/Projects\/BodyFaceTune\/FaceBody\/FaceBodyTools\/FaceBodyTools\/Metal\/Utils.swift",
      "kind": "FloatLiteral",
      "offset": 171,
      "length": 5,
      "value": "0.067"
    },
    {
      "filePath": "\/Users\/demiannezhdanov\/Projects\/BodyFaceTune\/FaceBody\/FaceBodyTools\/FaceBodyTools\/Metal\/Utils.swift",
      "kind": "FloatLiteral",
      "offset": 178,
      "length": 5,
      "value": "0.729"
    },
    {
      "filePath": "\/Users\/demiannezhdanov\/Projects\/BodyFaceTune\/FaceBody\/FaceBodyTools\/FaceBodyTools\/Metal\/Utils.swift",
      "kind": "FloatLiteral",
      "offset": 185,
      "length": 4,
      "value": "0.65"
    },
    {
      "filePath": "\/Users\/demiannezhdanov\/Projects\/BodyFaceTune\/FaceBody\/FaceBodyTools\/FaceBodyTools\/Metal\/Utils.swift",
      "kind": "IntegerLiteral",
      "offset": 191,
      "length": 1,
      "value": "1"
    },
    {
      "filePath": "\/Users\/demiannezhdanov\/Projects\/BodyFaceTune\/FaceBody\/FaceBodyTools\/FaceBodyTools\/Metal\/Utils.swift",
      "kind": "FloatLiteral",
      "offset": 229,
      "length": 5,
      "value": "0.071"
    },
    {
      "filePath": "\/Users\/demiannezhdanov\/Projects\/BodyFaceTune\/FaceBody\/FaceBodyTools\/FaceBodyTools\/Metal\/Utils.swift",
      "kind": "FloatLiteral",
      "offset": 236,
      "length": 5,
      "value": "0.195"
    },
    {
      "filePath": "\/Users\/demiannezhdanov\/Projects\/BodyFaceTune\/FaceBody\/FaceBodyTools\/FaceBodyTools\/Metal\/Utils.swift",
      "kind": "FloatLiteral",
      "offset": 243,
      "length": 5,
      "value": "0.213"
    },
    {
      "filePath": "\/Users\/demiannezhdanov\/Projects\/BodyFaceTune\/FaceBody\/FaceBodyTools\/FaceBodyTools\/Metal\/Utils.swift",
      "kind": "IntegerLiteral",
      "offset": 250,
      "length": 1,
      "value": "1"
    },
    {
      "filePath": "\/Users\/demiannezhdanov\/Projects\/BodyFaceTune\/FaceBody\/FaceBodyTools\/FaceBodyTools\/Metal\/Utils.swift",
      "kind": "StringLiteral",
      "offset": 294,
      "length": 12,
      "value": "\"namedColor\""
    }
  ]
}